{"ast":null,"code":"var _jsxFileName = \"/home/bleh/Hardware-web-app-frontend/src/LoginPage.js\";\nimport React from \"react\";\nimport { Form, Button } from 'react-bootstrap';\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { useForm } from 'react-hook-form';\nimport { login } from \"./auth\";\nconst LoginPage = () => {\n  var _errors$username, _errors$password;\n  const {\n    register,\n    handleSubmit,\n    reset,\n    formState: {\n      errors\n    }\n  } = useForm();\n  const navigate = useNavigate();\n  const loginUser = data => {\n    const requestOptions = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    };\n    fetch('/auth/login', requestOptions).then(res => {\n      if (!res.ok) {\n        throw new Error('Login failed');\n      }\n      return res.json();\n    }).then(data => {\n      if (data.access_token) {\n        login(data);\n        navigate('/');\n      } else {\n        console.error('Access token missing in response');\n      }\n    }).catch(error => console.error('Login error:', error));\n    reset();\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 17\n    }\n  }, \"Login Page\"), /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 25\n    }\n  }, \"Username\"), /*#__PURE__*/React.createElement(Form.Control, Object.assign({\n    type: \"text\",\n    placeholder: \"Your username\"\n  }, register('username', {\n    required: true,\n    maxLength: 25\n  }), {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 25\n    }\n  }))), errors.username && /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"small\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 69\n    }\n  }, \"Username is required\")), ((_errors$username = errors.username) === null || _errors$username === void 0 ? void 0 : _errors$username.type) === \"maxLength\" && /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 63\n    }\n  }, /*#__PURE__*/React.createElement(\"small\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 91\n    }\n  }, \"Username should be 25 characters\")), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Form.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 25\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(Form.Control, Object.assign({\n    type: \"password\",\n    placeholder: \"Your password\"\n  }, register('password', {\n    required: true,\n    minLength: 8\n  }), {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 25\n    }\n  }))), errors.password && /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"small\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 69\n    }\n  }, \"Password is required\")), ((_errors$password = errors.password) === null || _errors$password === void 0 ? void 0 : _errors$password.type) === \"minLength\" && /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 63\n    }\n  }, /*#__PURE__*/React.createElement(\"small\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 91\n    }\n  }, \"Password should be more than 8 characters\")), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Form.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    type: \"submit\",\n    onClick: handleSubmit(loginUser),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 25\n    }\n  }, \"Login\")), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Form.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"small\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 25\n    }\n  }, \"Do not have an account? \", /*#__PURE__*/React.createElement(Link, {\n    to: \"/signup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 53\n    }\n  }, \"Sign Up\"))))));\n};\nexport default LoginPage;","map":{"version":3,"names":["React","Form","Button","Link","useNavigate","useForm","login","LoginPage","_errors$username","_errors$password","register","handleSubmit","reset","formState","errors","navigate","loginUser","data","requestOptions","method","headers","body","JSON","stringify","fetch","then","res","ok","Error","json","access_token","console","error","catch","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","Group","Label","Control","Object","assign","type","placeholder","required","maxLength","username","style","color","minLength","password","variant","onClick","to"],"sources":["/home/bleh/Hardware-web-app-frontend/src/LoginPage.js"],"sourcesContent":["\nimport React from \"react\";\nimport { Form, Button } from 'react-bootstrap';\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { useForm } from 'react-hook-form';\nimport { login } from \"./auth\";\n\nconst LoginPage = () => {\n    const { register, handleSubmit, reset, formState: { errors } } = useForm();\n    const navigate = useNavigate();\n\n    const loginUser = (data) => {\n        const requestOptions = {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(data)\n        };\n\n        fetch('/auth/login', requestOptions)\n            .then((res) => {\n                if (!res.ok) {\n                    throw new Error('Login failed');\n                }\n                return res.json();\n            })\n            .then((data) => {\n                if (data.access_token) {\n                    login(data);\n                    navigate('/'); \n                } else {\n                    console.error('Access token missing in response');\n                }\n            })\n            .catch((error) => console.error('Login error:', error)); \n\n        reset();\n    };\n\n    return (\n        <div className=\"container\">\n            <div className=\"form\">\n                <h1>Login Page</h1>\n                <form>\n                    <Form.Group>\n                        <Form.Label>Username</Form.Label>\n                        <Form.Control type=\"text\" placeholder=\"Your username\"\n                            {...register('username', { required: true, maxLength: 25 })}\n                        />\n                    </Form.Group>\n                    {errors.username && <p style={{ color: 'red' }}><small>Username is required</small></p>}\n                    {errors.username?.type === \"maxLength\" && <p style={{ color: 'red' }}><small>Username should be 25 characters</small></p>}\n                    <br />\n                    <Form.Group>\n                        <Form.Label>Password</Form.Label>\n                        <Form.Control type=\"password\" placeholder=\"Your password\"\n                            {...register('password', { required: true, minLength: 8 })}\n                        />\n                    </Form.Group>\n                    {errors.password && <p style={{ color: 'red' }}><small>Password is required</small></p>}\n                    {errors.password?.type === \"minLength\" && <p style={{ color: 'red' }}><small>Password should be more than 8 characters</small></p>}\n                    <br />\n                    <Form.Group>\n                        <Button variant=\"primary\" type=\"submit\" onClick={handleSubmit(loginUser)}>\n                            Login\n                        </Button>\n                    </Form.Group>\n                    <br />\n                    <Form.Group>\n                        <small>\n                            Do not have an account? <Link to=\"/signup\">Sign Up</Link>\n                        </small>\n                    </Form.Group>\n                </form>\n            </div>\n        </div>\n    );\n};\n\nexport default LoginPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}